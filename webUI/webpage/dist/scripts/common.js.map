{"version":3,"sources":["common.js"],"names":["DOMAIN","API","SMART_ROUT_INFO","SEARCH_SMART_ROUT","SMART_ROUT","STATIC_ROUT_INFO","STATIC_ROUT","ALL_TYPE_INFO","ROUT","ACCOUNT_INFO","CHANNEL_INFO","CHANNEL_ITEM","QUERY_INFO_CHANGE","QUERY_ITEM_CHANNEL","QUERY_FEES_INFO","QUERY_FEE_ITEM","SAVE_CHANGE_INFO","DUMMY","WUI","init","options","config","system","locale","initSiteHeader","userNmae","SiteHeader","create","$el","$","name","initSiteMenu","resp","menus","resources","data","map","item","setMenu1","source","schemas","subList","sub_item","setMenu2","showName","push","tables","subList2","i","setMenu3","linkUrl","window","location","href","indexOf","resourceDisplayName","subs","isLeaf","isActive","console","log","replaceWith","templates","initConfigInfo","initSiteFooter","getResource","url","a","la","pathname","length","_link","info","initSystem","ajax","method","done","userName","localStorage","getItem","AdminLTE","ready","error","typeItem","sub","list","codeType"],"mappings":"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","file":"common.js","sourcesContent":["var DOMAIN = '';\n\nvar API = {\n  SMART_ROUT_INFO: DOMAIN + '/upp/web/v1/routes', // 获取全部智能路由接口\n  SEARCH_SMART_ROUT: DOMAIN + '/upp/web/v1/feeRoute', //查询一条智能路由\n  SMART_ROUT: DOMAIN + '/upp/web/v1/route', //智能路由\n  STATIC_ROUT_INFO: DOMAIN + '/upp/web/v1/staticRoutes', // 获取全部静态路由接口\n  STATIC_ROUT: DOMAIN + '/upp/web/v1/staticRoute', //静态路由接口\n  ALL_TYPE_INFO: DOMAIN + '/upp/web/v1/allCodetables', //获取全部的类型接口\n  ROUT: DOMAIN + '/upp/web/v1/route', //路由\n  ACCOUNT_INFO: DOMAIN + '/upp/web/v1/accounts', //本方账户信息\n  CHANNEL_INFO: DOMAIN + '/upp/web/v1/channelAbilitys',//查询通道信息\n  CHANNEL_ITEM: DOMAIN + '/upp/web/v1/channelAbility',//查询单挑通道信息\n  QUERY_INFO_CHANGE: DOMAIN + '/upp/web/v1/uppTodos',//查询信息变更\n  QUERY_ITEM_CHANNEL: DOMAIN + '/upp/web/v1/maintainDetail', //查询单条通道信息\n  QUERY_FEES_INFO: DOMAIN + '/upp/web/v1/channelFees',//查询所有计费信息\n  QUERY_FEE_ITEM: DOMAIN + '/upp/web/v1/channelFee',//查询单个计费信息\n  SAVE_CHANGE_INFO: DOMAIN + '/upp/web/v1/uppTodo' //保存审核信息\n};\n\nAPI.DUMMY = '';\n\n//var WUI = window.WUI || {};\n\nWUI.init = function (options) {\n  // init global config\n  WUI.config = WUI.config || {};\n  WUI.config.system = options.system;\n  WUI.config.locale = options.locale || 'zh-CN';\n\n  var initSiteHeader = function (userNmae) {\n    WUI.SiteHeader.create({\n      $el: $('.main-header'),\n      name: userNmae\n    })\n  };\n\n  var filterMenus = function(resources) {\n    var menus = [];\n\n    for (var i = 0; i < resources.length; i++) {\n      var resource = resources[i];\n\n      if (resource.resourceType === 'menu') {\n        if (!resource.isLeaf) {\n          resource.subs = [];\n        }\n        menus.push(resource);\n      }\n    }\n\n    return menus;\n  };\n\n  var findParent = function (resource, resources) {\n    var result = null;\n\n    if (resource.parentLevelStructure) {\n      for (var i = 0; i < resources.length; i++) {\n        if (resources[i].levelStructure === resource.parentLevelStructure) {\n          result = resources[i];\n          break;\n        }\n      }\n    }\n\n    return result;\n  }\n\n  var initSiteMenu = function (resp) {\n    var menus = [];\n    var resources = resp.data;\n    resources.map(function (item) {\n      var setMenu1 = {}\n      setMenu1['resourceDisplayName'] = item.source;\n      if(item.schemas){\n        var subList  = []\n        item.schemas.map(function(sub_item){\n          var setMenu2 = {}\n          setMenu2['resourceDisplayName'] = sub_item.showName\n          setMenu2['name'] = sub_item.name\n          subList.push(setMenu2)\n          if(sub_item.tables){\n            var subList2  = []\n            sub_item.tables.map(function(i){\n              var setMenu3 = {}\n              setMenu3['resourceDisplayName'] = i.showName\n              setMenu3['name'] = i.name\n              var linkUrl = '/sensitive/sensitive-detail.html?source='+item.source + '&setMenu2=' + sub_item.name + '&setMenu3=' + i.name\n              if(window.location.href.indexOf(linkUrl) >= 0){\n                setMenu3['isActive'] = true\n              }\n              setMenu3['isLeaf'] = true;\n              setMenu3['linkUrl'] = linkUrl;\n              subList2.push(setMenu3)\n            })\n\n          }\n          setMenu2['subs'] = subList2\n        })\n        setMenu1['subs'] = subList;\n      }\n      //Object.assign(menus,[{resourceDisplayName:'任务'}])\n      menus.push(setMenu1)\n      menus.push(\n        {\n          resourceDisplayName:'任务',\n          subs:[\n            {\n            resourceDisplayName:'进行中',\n            isLeaf:true,\n            isActive: window.location.href.indexOf('/sensitive/task.html?type=running') >= 0 ? true : false,\n            linkUrl:'/sensitive/task.html?type=running'\n            },\n            {\n              resourceDisplayName:'完成',\n              isLeaf:true,\n              isActive: window.location.href.indexOf('/sensitive/task.html?type=finish') >= 0 ? true : false,\n              linkUrl:'/sensitive/task.html?type=finish'\n            },\n          ]\n\n        }\n      )\n\n    })\n    console.log(menus);\n    $('.main-sidebar').replaceWith(WUI.templates['site-menu']({\n      menus: menus\n    }));\n  };\n\n  var initConfigInfo = '';\n\n  var initSiteFooter = function (resp) {\n    $('.main-footer').replaceWith(WUI.templates['site-footer'](resp));\n  };\n\n  WUI.getResource = function (url, a) {\n    var la = a ? a : window.location.pathname;\n    url = la + url;\n    for (var i = 0; i < initConfigInfo.length; i++) {\n      var _link = initConfigInfo[i].linkUrl;\n      if (url == _link) {\n        var info = initConfigInfo[i];\n      }\n    }\n    return info\n  }\n\n  var initSystem = function () {\n    //var url = '/' + WUI.config.system + '/data/schema';\n    var url = '/data/schema'\n    var data = {\n      source:'HIVE@SPARK'\n    };\n\n    WUI.ajax({\n      url: url,\n      method: 'GET',\n      data: data\n    }).done(function (resp) {\n      var userName = localStorage.getItem(\"name\");\n      WUI.config.userName = userName,\n      initSiteHeader(userName);\n      initSiteMenu(resp);\n      initSiteFooter(resp);\n      initConfigInfo = userName;\n      $.AdminLTE.init();\n      WUI.ready();\n    });\n  };\n\n  initSystem(options);\n};\n\nWUI.ready = WUI.ready || function () {\n  console.error('WUI: Please provide WUI.ready function.');\n};\n\nWUI.typeItem = function (sub, info) {\n  var list = []\n  info.map(function (item) {\n    if (item.codeType == sub) {\n      list.push(item);\n    }\n  })\n  return list\n}\n\n\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJjb21tb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIERPTUFJTiA9ICcnO1xuXG52YXIgQVBJID0ge1xuICBTTUFSVF9ST1VUX0lORk86IERPTUFJTiArICcvdXBwL3dlYi92MS9yb3V0ZXMnLCAvLyDojrflj5blhajpg6jmmbrog73ot6/nlLHmjqXlj6NcbiAgU0VBUkNIX1NNQVJUX1JPVVQ6IERPTUFJTiArICcvdXBwL3dlYi92MS9mZWVSb3V0ZScsIC8v5p+l6K+i5LiA5p2h5pm66IO96Lev55SxXG4gIFNNQVJUX1JPVVQ6IERPTUFJTiArICcvdXBwL3dlYi92MS9yb3V0ZScsIC8v5pm66IO96Lev55SxXG4gIFNUQVRJQ19ST1VUX0lORk86IERPTUFJTiArICcvdXBwL3dlYi92MS9zdGF0aWNSb3V0ZXMnLCAvLyDojrflj5blhajpg6jpnZnmgIHot6/nlLHmjqXlj6NcbiAgU1RBVElDX1JPVVQ6IERPTUFJTiArICcvdXBwL3dlYi92MS9zdGF0aWNSb3V0ZScsIC8v6Z2Z5oCB6Lev55Sx5o6l5Y+jXG4gIEFMTF9UWVBFX0lORk86IERPTUFJTiArICcvdXBwL3dlYi92MS9hbGxDb2RldGFibGVzJywgLy/ojrflj5blhajpg6jnmoTnsbvlnovmjqXlj6NcbiAgUk9VVDogRE9NQUlOICsgJy91cHAvd2ViL3YxL3JvdXRlJywgLy/ot6/nlLFcbiAgQUNDT1VOVF9JTkZPOiBET01BSU4gKyAnL3VwcC93ZWIvdjEvYWNjb3VudHMnLCAvL+acrOaWuei0puaIt+S/oeaBr1xuICBDSEFOTkVMX0lORk86IERPTUFJTiArICcvdXBwL3dlYi92MS9jaGFubmVsQWJpbGl0eXMnLC8v5p+l6K+i6YCa6YGT5L+h5oGvXG4gIENIQU5ORUxfSVRFTTogRE9NQUlOICsgJy91cHAvd2ViL3YxL2NoYW5uZWxBYmlsaXR5JywvL+afpeivouWNleaMkemAmumBk+S/oeaBr1xuICBRVUVSWV9JTkZPX0NIQU5HRTogRE9NQUlOICsgJy91cHAvd2ViL3YxL3VwcFRvZG9zJywvL+afpeivouS/oeaBr+WPmOabtFxuICBRVUVSWV9JVEVNX0NIQU5ORUw6IERPTUFJTiArICcvdXBwL3dlYi92MS9tYWludGFpbkRldGFpbCcsIC8v5p+l6K+i5Y2V5p2h6YCa6YGT5L+h5oGvXG4gIFFVRVJZX0ZFRVNfSU5GTzogRE9NQUlOICsgJy91cHAvd2ViL3YxL2NoYW5uZWxGZWVzJywvL+afpeivouaJgOacieiuoei0ueS/oeaBr1xuICBRVUVSWV9GRUVfSVRFTTogRE9NQUlOICsgJy91cHAvd2ViL3YxL2NoYW5uZWxGZWUnLC8v5p+l6K+i5Y2V5Liq6K6h6LS55L+h5oGvXG4gIFNBVkVfQ0hBTkdFX0lORk86IERPTUFJTiArICcvdXBwL3dlYi92MS91cHBUb2RvJyAvL+S/neWtmOWuoeaguOS/oeaBr1xufTtcblxuQVBJLkRVTU1ZID0gJyc7XG5cbi8vdmFyIFdVSSA9IHdpbmRvdy5XVUkgfHwge307XG5cbldVSS5pbml0ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgLy8gaW5pdCBnbG9iYWwgY29uZmlnXG4gIFdVSS5jb25maWcgPSBXVUkuY29uZmlnIHx8IHt9O1xuICBXVUkuY29uZmlnLnN5c3RlbSA9IG9wdGlvbnMuc3lzdGVtO1xuICBXVUkuY29uZmlnLmxvY2FsZSA9IG9wdGlvbnMubG9jYWxlIHx8ICd6aC1DTic7XG5cbiAgdmFyIGluaXRTaXRlSGVhZGVyID0gZnVuY3Rpb24gKHVzZXJObWFlKSB7XG4gICAgV1VJLlNpdGVIZWFkZXIuY3JlYXRlKHtcbiAgICAgICRlbDogJCgnLm1haW4taGVhZGVyJyksXG4gICAgICBuYW1lOiB1c2VyTm1hZVxuICAgIH0pXG4gIH07XG5cbiAgdmFyIGZpbHRlck1lbnVzID0gZnVuY3Rpb24ocmVzb3VyY2VzKSB7XG4gICAgdmFyIG1lbnVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJlc291cmNlID0gcmVzb3VyY2VzW2ldO1xuXG4gICAgICBpZiAocmVzb3VyY2UucmVzb3VyY2VUeXBlID09PSAnbWVudScpIHtcbiAgICAgICAgaWYgKCFyZXNvdXJjZS5pc0xlYWYpIHtcbiAgICAgICAgICByZXNvdXJjZS5zdWJzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbWVudXMucHVzaChyZXNvdXJjZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbnVzO1xuICB9O1xuXG4gIHZhciBmaW5kUGFyZW50ID0gZnVuY3Rpb24gKHJlc291cmNlLCByZXNvdXJjZXMpIHtcbiAgICB2YXIgcmVzdWx0ID0gbnVsbDtcblxuICAgIGlmIChyZXNvdXJjZS5wYXJlbnRMZXZlbFN0cnVjdHVyZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNvdXJjZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHJlc291cmNlc1tpXS5sZXZlbFN0cnVjdHVyZSA9PT0gcmVzb3VyY2UucGFyZW50TGV2ZWxTdHJ1Y3R1cmUpIHtcbiAgICAgICAgICByZXN1bHQgPSByZXNvdXJjZXNbaV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgdmFyIGluaXRTaXRlTWVudSA9IGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgdmFyIG1lbnVzID0gW107XG4gICAgdmFyIHJlc291cmNlcyA9IHJlc3AuZGF0YTtcbiAgICByZXNvdXJjZXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgc2V0TWVudTEgPSB7fVxuICAgICAgc2V0TWVudTFbJ3Jlc291cmNlRGlzcGxheU5hbWUnXSA9IGl0ZW0uc291cmNlO1xuICAgICAgaWYoaXRlbS5zY2hlbWFzKXtcbiAgICAgICAgdmFyIHN1Ykxpc3QgID0gW11cbiAgICAgICAgaXRlbS5zY2hlbWFzLm1hcChmdW5jdGlvbihzdWJfaXRlbSl7XG4gICAgICAgICAgdmFyIHNldE1lbnUyID0ge31cbiAgICAgICAgICBzZXRNZW51MlsncmVzb3VyY2VEaXNwbGF5TmFtZSddID0gc3ViX2l0ZW0uc2hvd05hbWVcbiAgICAgICAgICBzZXRNZW51MlsnbmFtZSddID0gc3ViX2l0ZW0ubmFtZVxuICAgICAgICAgIHN1Ykxpc3QucHVzaChzZXRNZW51MilcbiAgICAgICAgICBpZihzdWJfaXRlbS50YWJsZXMpe1xuICAgICAgICAgICAgdmFyIHN1Ykxpc3QyICA9IFtdXG4gICAgICAgICAgICBzdWJfaXRlbS50YWJsZXMubWFwKGZ1bmN0aW9uKGkpe1xuICAgICAgICAgICAgICB2YXIgc2V0TWVudTMgPSB7fVxuICAgICAgICAgICAgICBzZXRNZW51M1sncmVzb3VyY2VEaXNwbGF5TmFtZSddID0gaS5zaG93TmFtZVxuICAgICAgICAgICAgICBzZXRNZW51M1snbmFtZSddID0gaS5uYW1lXG4gICAgICAgICAgICAgIHZhciBsaW5rVXJsID0gJy9zZW5zaXRpdmUvc2Vuc2l0aXZlLWRldGFpbC5odG1sP3NvdXJjZT0nK2l0ZW0uc291cmNlICsgJyZzZXRNZW51Mj0nICsgc3ViX2l0ZW0ubmFtZSArICcmc2V0TWVudTM9JyArIGkubmFtZVxuICAgICAgICAgICAgICBpZih3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKGxpbmtVcmwpID49IDApe1xuICAgICAgICAgICAgICAgIHNldE1lbnUzWydpc0FjdGl2ZSddID0gdHJ1ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNldE1lbnUzWydpc0xlYWYnXSA9IHRydWU7XG4gICAgICAgICAgICAgIHNldE1lbnUzWydsaW5rVXJsJ10gPSBsaW5rVXJsO1xuICAgICAgICAgICAgICBzdWJMaXN0Mi5wdXNoKHNldE1lbnUzKVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgIH1cbiAgICAgICAgICBzZXRNZW51Mlsnc3VicyddID0gc3ViTGlzdDJcbiAgICAgICAgfSlcbiAgICAgICAgc2V0TWVudTFbJ3N1YnMnXSA9IHN1Ykxpc3Q7XG4gICAgICB9XG4gICAgICAvL09iamVjdC5hc3NpZ24obWVudXMsW3tyZXNvdXJjZURpc3BsYXlOYW1lOifku7vliqEnfV0pXG4gICAgICBtZW51cy5wdXNoKHNldE1lbnUxKVxuICAgICAgbWVudXMucHVzaChcbiAgICAgICAge1xuICAgICAgICAgIHJlc291cmNlRGlzcGxheU5hbWU6J+S7u+WKoScsXG4gICAgICAgICAgc3ViczpbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICByZXNvdXJjZURpc3BsYXlOYW1lOifov5vooYzkuK0nLFxuICAgICAgICAgICAgaXNMZWFmOnRydWUsXG4gICAgICAgICAgICBpc0FjdGl2ZTogd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignL3NlbnNpdGl2ZS90YXNrLmh0bWw/dHlwZT1ydW5uaW5nJykgPj0gMCA/IHRydWUgOiBmYWxzZSxcbiAgICAgICAgICAgIGxpbmtVcmw6Jy9zZW5zaXRpdmUvdGFzay5odG1sP3R5cGU9cnVubmluZydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHJlc291cmNlRGlzcGxheU5hbWU6J+WujOaIkCcsXG4gICAgICAgICAgICAgIGlzTGVhZjp0cnVlLFxuICAgICAgICAgICAgICBpc0FjdGl2ZTogd2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZignL3NlbnNpdGl2ZS90YXNrLmh0bWw/dHlwZT1maW5pc2gnKSA+PSAwID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICAgICAgICBsaW5rVXJsOicvc2Vuc2l0aXZlL3Rhc2suaHRtbD90eXBlPWZpbmlzaCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgXVxuXG4gICAgICAgIH1cbiAgICAgIClcblxuICAgIH0pXG4gICAgY29uc29sZS5sb2cobWVudXMpO1xuICAgICQoJy5tYWluLXNpZGViYXInKS5yZXBsYWNlV2l0aChXVUkudGVtcGxhdGVzWydzaXRlLW1lbnUnXSh7XG4gICAgICBtZW51czogbWVudXNcbiAgICB9KSk7XG4gIH07XG5cbiAgdmFyIGluaXRDb25maWdJbmZvID0gJyc7XG5cbiAgdmFyIGluaXRTaXRlRm9vdGVyID0gZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAkKCcubWFpbi1mb290ZXInKS5yZXBsYWNlV2l0aChXVUkudGVtcGxhdGVzWydzaXRlLWZvb3RlciddKHJlc3ApKTtcbiAgfTtcblxuICBXVUkuZ2V0UmVzb3VyY2UgPSBmdW5jdGlvbiAodXJsLCBhKSB7XG4gICAgdmFyIGxhID0gYSA/IGEgOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgdXJsID0gbGEgKyB1cmw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbml0Q29uZmlnSW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIF9saW5rID0gaW5pdENvbmZpZ0luZm9baV0ubGlua1VybDtcbiAgICAgIGlmICh1cmwgPT0gX2xpbmspIHtcbiAgICAgICAgdmFyIGluZm8gPSBpbml0Q29uZmlnSW5mb1tpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZm9cbiAgfVxuXG4gIHZhciBpbml0U3lzdGVtID0gZnVuY3Rpb24gKCkge1xuICAgIC8vdmFyIHVybCA9ICcvJyArIFdVSS5jb25maWcuc3lzdGVtICsgJy9kYXRhL3NjaGVtYSc7XG4gICAgdmFyIHVybCA9ICcvZGF0YS9zY2hlbWEnXG4gICAgdmFyIGRhdGEgPSB7XG4gICAgICBzb3VyY2U6J0hJVkVAU1BBUksnXG4gICAgfTtcblxuICAgIFdVSS5hamF4KHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICB2YXIgdXNlck5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIm5hbWVcIik7XG4gICAgICBXVUkuY29uZmlnLnVzZXJOYW1lID0gdXNlck5hbWUsXG4gICAgICBpbml0U2l0ZUhlYWRlcih1c2VyTmFtZSk7XG4gICAgICBpbml0U2l0ZU1lbnUocmVzcCk7XG4gICAgICBpbml0U2l0ZUZvb3RlcihyZXNwKTtcbiAgICAgIGluaXRDb25maWdJbmZvID0gdXNlck5hbWU7XG4gICAgICAkLkFkbWluTFRFLmluaXQoKTtcbiAgICAgIFdVSS5yZWFkeSgpO1xuICAgIH0pO1xuICB9O1xuXG4gIGluaXRTeXN0ZW0ob3B0aW9ucyk7XG59O1xuXG5XVUkucmVhZHkgPSBXVUkucmVhZHkgfHwgZnVuY3Rpb24gKCkge1xuICBjb25zb2xlLmVycm9yKCdXVUk6IFBsZWFzZSBwcm92aWRlIFdVSS5yZWFkeSBmdW5jdGlvbi4nKTtcbn07XG5cbldVSS50eXBlSXRlbSA9IGZ1bmN0aW9uIChzdWIsIGluZm8pIHtcbiAgdmFyIGxpc3QgPSBbXVxuICBpbmZvLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIGlmIChpdGVtLmNvZGVUeXBlID09IHN1Yikge1xuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGxpc3Rcbn1cblxuXG4iXSwiZmlsZSI6ImNvbW1vbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9\n"],"sourceRoot":"/source/"}