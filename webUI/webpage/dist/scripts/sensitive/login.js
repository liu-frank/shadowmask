!function(e){function a(){var e=document.createElement("input");return"placeholder"in e}var t={focus:function(a){a=e(a).hide().prev().show().focus();var t=a.attr("id");t&&a.attr("id",t.replace("placeholderfriend",""));var r=a.attr("class");r&&a.attr("class",r.replace("placeholderfriend",""))}};a()||e(function(){var a=e(this),t=a.find("input[type='text'][placeholder]");t.each(function(){var a=e(this),t=a.attr("placeholder"),r=a.val();t&&""==r&&a.val(t)}),t.focus(function(){var a=e(this),t=a.attr("placeholder"),r=a.val();r&&t&&r==t&&a.val("")}),t.blur(function(){var a=e(this),t=a.attr("placeholder"),r=a.val();r||a.val(t)});var r=a.find("input[type='password'][placeholder]");r.each(function(a){var t=e(this),r=t.attr("placeholder"),l=t.val();if(r&&""==l){var n=this.outerHTML||"";n=n.replace(/\s*type=(['"])?password\1/gi," type=text placeholderfriend").replace(/\s*(?:value|on[a-z]+|name)(=(['"])?\S*\1)?/gi," ").replace(/\s*placeholderfriend/," placeholderfriend value='"+r+"' onfocus='placeholderfriendfocus(this);' ");var o=t.attr("id");o&&t.attr("id",o+"placeholderfriend");var s=t.attr("class");s&&t.attr("class",s+"placeholderfriend"),t.hide(),t.after(n)}}),r.blur(function(){var a=e(this),t=a.val();if(""==t){var r=a.attr("id");r&&a.attr("id",r+"placeholderfriend");var l=a.attr("class");l&&a.attr("class",l+"placeholderfriend"),a.hide().next().show()}})}),window.placeholderfriendfocus=t.focus,e(".submit-button").click(function(){event.preventDefault();var a=e("#id-input").val(),t=e("#password-input").val();e.ajax({type:"POST",url:"/admin/login",data:{username:a,password:t},dataType:"json",success:function(a){console.log(a.code);var t=a.code;if(0==t){a.data.userName="test",localStorage.setItem("token",a.data.token),localStorage.setItem("name",a.data.userName);var r="/data/schema",l={source:"HIVE@SPARK",authToken:a.data.token};e.ajax({url:r,type:"GET",data:l}).done(function(e){var a="/sensitive/sensitive-detail.html?source="+e.data[0].source+"&setMenu2="+e.data[0].schemas[0].name+"&setMenu3="+e.data[0].schemas[0].tables[0].name;window.location.href=a})}else e(".error-message").html(a.info)}})})}(jQuery);
//# sourceMappingURL=login.js.map
